<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <style>
        .btn {
            border-radius: 0;
        }
    </style>
</head>

<body>
    <section class="bg-info py-5">
        <div class="container overflow-hidden">
            <h1>JS Assignment-3</h1>

            <div class="input-group my-2">
                <input type="text" class="form-control rounded-0 border-0" placeholder="Name" required>
                <input type="number" class="form-control rounded-0 border-0" placeholder="Contact No." required>
                <input type="email" class="form-control rounded-0 border-0" placeholder="Email" required>
                <button type="button" class="btn btn-success" onclick="addPerson()">Add Person</button>
                <button type="button" class="btn btn-success" onclick="addFirstPerson()">Add Person at Top</button>
            </div>
            <div class="input-group my-2">
                <button type="button" class="btn btn-success" onclick="dltLastPerson()">Delete Last Person</button>
                <input type="number" class="form-control rounded-0 border-0" placeholder="S. No. of Person" required>
                <button type="button" class="btn btn-success" onclick="dltPerson()">Delete Person</button>
            </div>
            <div class="input-group my-2">
                <input type="text" class="form-control rounded-0 border-0" placeholder="Name,Contact,Email" required>
                <button type="button" class="btn btn-success" onclick="addObject()">Add Person</button>
            </div>
            <p id="response" class="my-4"></p>
        </div>

        <script>
            var personArray = [];
            function createTable() {
                var text = '<table class="table table-striped table-hover table-bordered text-center">\
                    <tr>\
                        <th>S. No.</th>\
                        <th>Name</th>\
                        <th>Contact No.</th>\
                        <th>Email</th>\
                    </tr>'
                for (n in personArray) {
                    text += '<tr id="serial' + n + '">\
                        <td>'+ (n * 1 + 1) + '</td>\
                        <td>'+ personArray[n].name + '</td>\
                        <td>'+ personArray[n].contact + '</td >\
                        <td>'+ personArray[n].email + '</td >\
                    </tr >'
                }
                text = text + '</table>'
                document.getElementById('response').innerHTML = text

            }
            function addPerson() {
                var personName = document.getElementsByTagName("input")[0].value
                var personContact = document.getElementsByTagName("input")[1].value
                var personEmail = document.getElementsByTagName("input")[2].value
                if (personName == "" || personContact == "" || personEmail == "") {
                    return false
                }
                var personObject = {
                    name: personName,
                    contact: personContact,
                    email: personEmail
                }
                personArray.push(personObject);
                createTable()
                document.getElementById("serial" + (personArray.length - 1)).setAttribute("class", "bg-primary")
                document.getElementsByTagName("input")[0].value = ""
                document.getElementsByTagName("input")[1].value = ""
                document.getElementsByTagName("input")[2].value = ""
            }
            function addFirstPerson() {
                var personName = document.getElementsByTagName("input")[0].value
                var personContact = document.getElementsByTagName("input")[1].value
                var personEmail = document.getElementsByTagName("input")[2].value
                if (personName == "" || personContact == "" || personEmail == "") {
                    return false
                }
                var personObject = {
                    name: personName,
                    contact: personContact,
                    email: personEmail
                }
                personArray.unshift(personObject);
                createTable()
                document.getElementById("serial" + 0).setAttribute("class", "bg-primary")
                document.getElementsByTagName("input")[0].value = ""
                document.getElementsByTagName("input")[1].value = ""
                document.getElementsByTagName("input")[2].value = ""
            }
            function dltLastPerson() {
                personArray.pop()
                createTable()
            }
            function dltPerson() {
                if (document.getElementsByTagName("input")[3].value == "") {
                    return false
                }
                var n = document.getElementsByTagName("input")[3].value - 1
                personArray.splice(n, 1)
                createTable()
                document.getElementsByTagName("input")[3].value = ""
            }
            function addObject() {
                var str = document.getElementsByTagName("input")[4].value
                if (str=="") {
                    return false
                }
                var strArray = str.split(",")
                var personObject = {
                    name: strArray[0],
                    contact:strArray[1],
                    email: strArray[2]
                }
                personArray.push(personObject);
                createTable()
                document.getElementById("serial" + (personArray.length - 1)).setAttribute("class", "bg-primary")
                document.getElementsByTagName("input")[4].value =""

            }
        </script>
    </section>


</body>

</html>